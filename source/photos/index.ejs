---
layout: post
slug: "photos"
title: "相册"
noDate: "true"
comments: "false"
---
<link rel="stylesheet" href="./ins.css">
<div class="photos-btn-wrap">
	<!--<a class="photos-btn active" href="javascript:void(0)">Ins</a>-->
	<!--<a class="photos-btn" target="_blank" href="http://litten.me/gallery/">摄影</a>-->
</div>
<div class="instagram itemscope">
	<a href="https://www.instagram.com/litten225/" target="_blank" class="open-ins">图片来自github，正在加载中…</a>
</div>
<script>
  (function() {
    var loadScript = function(path) {
      var $script = document.createElement('script')
      document.getElementsByTagName('body')[0].appendChild($script)
      $script.setAttribute('src', path)
    }
    setTimeout(function() {
      loadScript('./ins.js')

    }, 0)
  })()

  window.onload=function(){
      auto_data_size();
  };
  function auto_data_size(){
      var imgs= document.getElementsByTagName('figure')
      var imgss = []
      for(var i=0;i<imgs.length;i++){
          imgss.push(imgs[i].getElementsByTagName('img'))
       }
      for(var j=0;j<imgss.length;j++){
          (function(j) {
              var img = new Image();
                function setWH(){
                    var w = img.width*10;
                    var h =img.height*10;
                    var parentN = imgss[j][0].parentNode
                    parentN.setAttribute("data-size",w+"x"+h);
                }

              img.addEventListener('load' , function(){
                  setWH()
              } , false);
              img.src = imgss[j][0].attributes["data-src"].nodeValue;
              if(img.complete){
                  //如果图片已经存在于浏览器缓存,直接调用回调函数
                  setWH()
              }
          })(j)
      }
  };

</script>
